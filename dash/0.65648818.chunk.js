(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2220:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=n(34),d=n(10),u=n(8),s=n(62),c=n(17),f=a(n(101)),p=a(n(758)),m=a(n(2363)),g=a(n(2372)),v=a(n(2373)),y=a(n(2263)),b=a(n(2264)),E=a(n(2374)),h=n(2291),x=a(n(2270)),I=a(n(760)),w=a(n(2376)),_=o(n(2377));const R=({currentEnvironment:e,deleteLayout:t,deleteLayouts:n,componentsAndModelsMainPossibleMainFields:a,history:{push:o},plugins:r,slug:R})=>{const{componentSlug:D,type:C}=(0,l.useParams)(),{emitEvent:O}=(0,u.useGlobalContext)(),[S,T]=(0,i.useReducer)(_.default,_.initialState),[M,P]=(0,i.useState)(!1),[k,L]=(0,i.useState)(!1),F="content-types"===C?"col-8":"col-12",j=new AbortController,{signal:N}=j,{componentLayouts:z,isLoading:A,initialData:U,metaToEdit:q,modifiedData:W,metaForm:B}=S.toJS(),H=(0,i.useMemo)(()=>(0,d.get)(W,["schema","attributes"],{}),[W]),J=(0,i.useMemo)(()=>(0,d.get)(W,["schema","info","name"],""),[W]),V=(0,i.useCallback)(()=>(0,d.get)(W,["layouts","edit"],[]),[W]),Z=(0,i.useCallback)(()=>(0,d.get)(W,["layouts","editRelations"],[]),[W]),G=(0,i.useCallback)(e=>{if("relation"!==e&&"component"!==e)return[];const t="component"===e?"component":"targetModel",n=(0,d.get)(W,["schema","attributes",q,t],"");return(0,d.get)(a,[n],[])},[q,a,W]);(0,i.useEffect)(()=>((async()=>{try{const{data:e}=await(0,u.request)((0,p.default)("".concat(C,"/").concat(R||D)),{method:"GET",signal:N});T({type:"GET_DATA_SUCCEEDED",data:e.contentType||e.component,componentLayouts:e.components})}catch(e){20!==e.code&&strapi.notification.error("notification.error")}})(),()=>{j.abort()}),[R,C,D]);const K=({target:{name:e,value:t}})=>{T({type:"ON_CHANGE_META",keys:e.split("."),value:t})},Q=()=>{P(e=>!e)};return i.default.createElement(I.default,{attributes:H,buttonData:(()=>{const e=H,t=(0,d.get)(W,["metadatas"],{}),n=V().reduce((e,t)=>[...e,...t.rowContent],[]);return Object.keys(e).filter(t=>"relation"!==(0,d.get)(e,[t,"type"],"")).filter(e=>!0===(0,d.get)(t,[e,"edit","visible"],!1)).filter(e=>-1===n.findIndex(t=>t.name===e))})(),componentLayouts:z,goTo:o,isDraggingSibling:k,layout:V(),metadatas:(0,d.get)(W,["metadatas"],{}),moveItem:(e,t,n,a)=>{T(n===a?{type:"REORDER_ROW",dragRowIndex:n,dragIndex:e,hoverIndex:t}:{type:"REORDER_DIFF_ROW",dragIndex:e,hoverIndex:t,dragRowIndex:n,hoverRowIndex:a})},moveRow:(e,t)=>{T({type:"MOVE_ROW",dragRowIndex:e,hoverRowIndex:t})},onAddData:e=>{T({type:"ON_ADD_DATA",name:e})},relationsLayout:Z(),removeField:(e,t)=>{T({type:"REMOVE_FIELD",rowIndex:e,fieldIndex:t})},setEditFieldToSelect:e=>{T({type:"SET_FIELD_TO_EDIT",name:e}),Q()},setIsDraggingSibling:L,selectedItemName:q},i.default.createElement(b.default,{inputs:[{label:{id:"".concat(f.default,".containers.SettingPage.editSettings.entry.title")},description:{id:"".concat(f.default,".containers.SettingPage.editSettings.entry.title.description")},type:"select",name:"settings.mainField",customBootstrapClass:"col-md-4",selectOptions:["id"],didCheckErrors:!1,validations:{}}],initialData:U,isLoading:A,modifiedData:W,name:J,onChange:({target:{name:e,value:t}})=>{T({type:"ON_CHANGE",keys:e.split("."),value:t})},onConfirmReset:()=>{T({type:"ON_RESET"})},onConfirmSubmit:async()=>{try{const e=(0,d.cloneDeep)(W);(0,d.set)(e,"layouts.edit",(0,h.unformatLayout)(e.layouts.edit)),delete e.schema,delete e.uid,delete e.isComponent,delete e.category,delete e.apiID,await(0,u.request)((0,p.default)("".concat(C,"/").concat(R||D)),{method:"PUT",body:e,signal:N}),T({type:"SUBMIT_SUCCEEDED"}),R&&t(R),D&&n(),O("didEditEditSettings")}catch(e){strapi.notification.error("notification.error")}},slug:R||D,isEditSettings:!0},i.default.createElement("div",{className:"row"},i.default.createElement(v.default,{className:F},i.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.default.createElement("div",null,i.default.createElement(g.default,{title:"".concat(f.default,".global.displayedFields"),description:"".concat(f.default,".containers.SettingPage.editSettings.description")})),i.default.createElement("div",{style:{marginTop:-6}},(0,x.default)("editSettingsView","left.links",r,e,R,o,{componentSlug:D,type:C,modifiedData:W})))),"components"!==C&&i.default.createElement(v.default,{className:"col-4"},i.default.createElement(g.default,{title:"".concat(f.default,".containers.SettingPage.relations"),description:"".concat(f.default,".containers.SettingPage.editSettings.description")})),i.default.createElement(m.default,{className:F}),"components"!==C&&i.default.createElement(E.default,{addItem:e=>{T({type:"ADD_RELATION",name:e})},buttonData:(()=>{const e=H,t=Z();return Object.keys(e).filter(t=>"relation"===(0,d.get)(e,[t,"type"],"")).filter(e=>-1===t.indexOf(e))})(),moveItem:(e,t)=>{T({type:"MOVE_RELATION",dragIndex:e,hoverIndex:t})},removeItem:e=>{T({type:"REMOVE_RELATION",index:e})}}))),i.default.createElement(y.default,{headerId:"".concat(f.default,".containers.EditSettingsView.modal-form.edit-field"),isOpen:M,onClosed:()=>{T({type:"UNSET_FIELD_TO_EDIT"})},onSubmit:e=>{e.preventDefault(),T({type:"SUBMIT_META_FORM"}),Q()},onToggle:Q,renderForm:()=>Object.keys((0,d.get)(W,["metadatas",q,"edit"],{})).filter(e=>"visible"!==e).map((e,t)=>{const n=(0,d.get)(H,[q,"type"]);return("dynamiczone"!==n||["label","description"].includes(e))&&("component"!==n&&"media"!==n||"label"===e)&&("json"!==n&&"boolean"!==n||"placeholder"!==e)?"richtext"===n&&"editable"===e?null:i.default.createElement("div",{className:"col-6",key:e},i.default.createElement(c.FormattedMessage,{id:"".concat(f.default,".containers.SettingPage.editSettings.entry.title.description")},a=>i.default.createElement(c.FormattedMessage,{id:(0,d.get)((0,w.default)(e),"label.id","app.utils.defaultMessage")},o=>i.default.createElement(s.Inputs,{autoFocus:0===t,description:"mainField"===e?a:"",label:o,name:e,type:(0,w.default)(e).type,onBlur:()=>{},value:(0,d.get)(B,e,""),onChange:K,options:G(n)})))):null}),subHeaderContent:q,type:(0,d.get)(H,[q,"type"],"")}))};R.defaultProps={slug:null},R.propTypes={currentEnvironment:r.default.string.isRequired,deleteLayout:r.default.func.isRequired,deleteLayouts:r.default.func.isRequired,componentsAndModelsMainPossibleMainFields:r.default.object.isRequired,history:r.default.shape({push:r.default.func}).isRequired,location:r.default.shape({search:r.default.string.isRequired}).isRequired,plugins:r.default.object.isRequired,slug:r.default.string};var D=R;t.default=D},2233:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  padding: 18px 30px 18px 30px;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2239:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(101));var i=e=>"".concat(o.default,".").concat(e);t.default=i},2246:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  .btn-group button {\n    line-height: 28px;\n  }\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2261:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(1)),i=a(n(2)),r=n(32),l=a(n(2262));const d=({children:e,componentUid:t,friendlyName:n,icon:a,onClick:i})=>o.default.createElement(l.default,{onClick:e=>{e.preventDefault(),e.stopPropagation(),i(t)}},o.default.createElement("button",{className:"component-icon",type:"button"},o.default.createElement(r.FontAwesomeIcon,{icon:a})),o.default.createElement("div",{className:"component-uid"},o.default.createElement("span",null,n)),e);d.defaultProps={children:null,friendlyName:"",onClick:()=>{},icon:"smile"},d.propTypes={children:i.default.node,componentUid:i.default.string.isRequired,friendlyName:i.default.string,icon:i.default.string,onClick:i.default.func};var u=d;t.default=u},2262:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2263:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(1)),i=a(n(2)),r=n(8),l=n(17),d=n(10),u=n(21);const s=({headerId:e,isOpen:t,onClosed:n,onSubmit:a,onToggle:i,renderForm:s,subHeaderContent:c,type:f})=>o.default.createElement(r.Modal,{isOpen:t,onClosed:n,onToggle:i},o.default.createElement(r.HeaderModal,null,o.default.createElement("section",null,o.default.createElement(r.HeaderModalTitle,{style:{textTransform:"none"}},o.default.createElement(u.AttributeIcon,{type:"timestamp"===f?"date":["decimal","float","integer","biginter"].includes(f)?"number":f,style:{margin:"auto 20px auto 0"}}),o.default.createElement(l.FormattedMessage,{id:e}))),o.default.createElement("section",null,o.default.createElement(r.HeaderModalTitle,null,o.default.createElement("span",null,(0,d.upperFirst)(c)),o.default.createElement("hr",null)))),o.default.createElement("form",{onSubmit:a},o.default.createElement(r.ModalForm,null,o.default.createElement(r.ModalBody,null,s())),o.default.createElement(r.ModalFooter,null,o.default.createElement("section",null,o.default.createElement(u.Button,{onClick:i,color:"cancel"},o.default.createElement(l.FormattedMessage,{id:"components.popUpWarning.button.cancel"})),o.default.createElement(u.Button,{type:"submit",color:"success"},o.default.createElement(l.FormattedMessage,{id:"form.button.done"}))))));s.defaultProps={isOpen:!1,onClosed:()=>{},onSubmit:()=>{},onToggle:()=>{},renderForm:()=>{},subHeaderContent:"",type:""},s.propTypes={headerId:i.default.string.isRequired,isOpen:i.default.bool,onClosed:i.default.func,onSubmit:i.default.func,onToggle:i.default.func,renderForm:i.default.func,subHeaderContent:i.default.string,type:i.default.string};var c=s;t.default=c},2264:function(e,t,n){"use strict";var a=n(7),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(6)),r=a(n(1)),l=o(n(2)),d=n(10),u=n(34),s=n(17),c=n(62),f=n(8),p=o(n(101)),m=o(n(2265)),g=o(n(2233)),v=o(n(2267)),y=o(n(2269));const b=({children:e,history:{goBack:t},getListDisplayedFields:n,inputs:a,initialData:o,isEditSettings:l,isLoading:u,modifiedData:b,onChange:E,onConfirmReset:h,onConfirmSubmit:x,name:I})=>{const{emitEvent:w,formatMessage:_}=(0,f.useGlobalContext)(),[R,D]=(0,r.useState)(!1),[C,O]=(0,r.useState)(!1),S=(0,r.useMemo)(()=>(0,d.get)(b,["schema","attributes"],{}),[b]),T=()=>D(e=>!e),M=()=>O(e=>!e),P={actions:[{color:"cancel",onClick:T,label:_({id:"".concat(p.default,".popUpWarning.button.cancel")}),type:"button",disabled:(0,d.isEqual)(b,o),style:{fontWeight:600,paddingLeft:15,paddingRight:15}},{color:"success",label:_({id:"".concat(p.default,".containers.Edit.submit")}),type:"submit",disabled:(0,d.isEqual)(b,o),style:{minWidth:150,fontWeight:600}}],title:{label:_({id:"".concat(p.default,".components.SettingsViewWrapper.pluginHeader.title")},{name:(0,d.upperFirst)(I)})},content:_({id:"".concat(p.default,".components.SettingsViewWrapper.pluginHeader.description.").concat(l?"edit":"list","-settings")})},k=e=>{if("settings.defaultSortBy"===e.name)return["id",...n().filter(e=>"media"!==(0,d.get)(S,[e,"type"],"")&&"id"!==e&&"richtext"!==(0,d.get)(S,[e,"type"],""))];if("settings.mainField"===e.name){const e=S;return Object.keys(e).filter(t=>{const n=(0,d.get)(e,[t,"type"],"");return!["json","text","relation","component","boolean","date","media","richtext"].includes(n)&&!!n})}return e.options};return u?r.default.createElement(f.LoadingIndicatorPage,null):r.default.createElement(r.default.Fragment,null,r.default.createElement(f.BackHeader,{onClick:t}),r.default.createElement(g.default,{className:"container-fluid"},r.default.createElement("form",{onSubmit:e=>{e.preventDefault(),M(),w("willSaveContentTypeLayout")}},r.default.createElement(c.Header,P),r.default.createElement("div",{className:"row",style:{paddingTop:"3px"}},r.default.createElement(m.default,{style:{marginBottom:"13px",paddingBottom:"30px",paddingTop:"24px"}},r.default.createElement(v.default,{isSettings:!0}),r.default.createElement("div",{className:"row"},a.map(e=>r.default.createElement(s.FormattedMessage,{key:e.name,id:e.label.id},t=>r.default.createElement("div",{className:e.customBootstrapClass},r.default.createElement(s.FormattedMessage,{id:(0,d.get)(e,"description.id","app.utils.defaultMessage")},n=>r.default.createElement(c.Inputs,(0,i.default)({},e,{description:n,label:" "===t?null:t,onChange:E,options:k(e),value:(0,d.get)(b,e.name,"")})))))),r.default.createElement("div",{className:"col-12"},r.default.createElement(y.default,{style:{marginBottom:20}}))),r.default.createElement(v.default,null),e)),r.default.createElement(f.PopUpWarning,{isOpen:R,toggleModal:T,content:{title:"".concat(p.default,".popUpWarning.title"),message:"".concat(p.default,".popUpWarning.warning.cancelAllSettings"),cancel:"".concat(p.default,".popUpWarning.button.cancel"),confirm:"".concat(p.default,".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:()=>{h(),T()}}),r.default.createElement(f.PopUpWarning,{isOpen:C,toggleModal:M,content:{title:"".concat(p.default,".popUpWarning.title"),message:"".concat(p.default,".popUpWarning.warning.updateAllSettings"),cancel:"".concat(p.default,".popUpWarning.button.cancel"),confirm:"".concat(p.default,".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:async()=>{await x(),M()}}))))};b.defaultProps={getListDisplayedFields:()=>[],inputs:[],initialData:{},isEditSettings:!1,modifiedData:{},name:"",onConfirmReset:()=>{},onConfirmSubmit:async()=>{},onSubmit:()=>{},pluginHeaderProps:{actions:[],description:{id:"app.utils.defaultMessage"},title:{id:"app.utils.defaultMessage",values:{}}}},b.propTypes={children:l.default.node.isRequired,getListDisplayedFields:l.default.func,history:l.default.shape({goBack:l.default.func.isRequired}).isRequired,initialData:l.default.object,inputs:l.default.array,isEditSettings:l.default.bool,isLoading:l.default.bool.isRequired,modifiedData:l.default.object,name:l.default.string,onChange:l.default.func.isRequired,onConfirmReset:l.default.func,onConfirmSubmit:l.default.func,onSubmit:l.default.func,pluginHeaderProps:l.default.shape({actions:l.default.array,description:l.default.shape({id:l.default.string}),title:l.default.shape({id:l.default.string,values:l.default.object})})};var E=(0,u.withRouter)(b);t.default=E},2265:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=n(17),d=n(2266);const u=e=>i.default.createElement("p",null,e),s=({children:e,description:t,style:n,title:a})=>i.default.createElement("div",{className:"col-md-12"},i.default.createElement(d.Wrapper,{style:n},i.default.createElement(d.Sub,null,!!a&&i.default.createElement("p",null,i.default.createElement(l.FormattedMessage,{id:a})),!!t&&i.default.createElement(l.FormattedMessage,{id:t},u)),e));s.defaultProps={children:null,description:null,style:{},title:null},s.propTypes={children:r.default.any,description:r.default.string,style:r.default.object,title:r.default.string};var c=(0,i.memo)(s);t.default=c},2266:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Sub=t.Wrapper=void 0;var o=a(n(4)),i=a(n(3));function r(){const e=(0,o.default)(["\n  padding-top: 0px;\n  line-height: 18px;\n  > p:first-child {\n    margin-bottom: 1px;\n    font-weight: 700;\n    color: #333740;\n    font-size: 1.8rem;\n  }\n  > p {\n    color: #787e8f;\n    font-size: 13px;\n  }\n"]);return r=function(){return e},e}function l(){const e=(0,o.default)(["\n  margin-bottom: 35px;\n  background: #ffffff;\n  padding: 22px 28px 18px;\n  padding-bottom: 13px;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  -webkit-font-smoothing: antialiased;\n"]);return l=function(){return e},e}const d=i.default.div(l());t.Wrapper=d;const u=i.default.div(r());t.Sub=u},2267:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=n(17),d=a(n(101)),u=a(n(2268));const s=({isSettings:e})=>{const t=e?"settings":"view",n="".concat(d.default,".containers.SettingPage.").concat(t);return i.default.createElement("div",{style:{marginBottom:"18px"}},i.default.createElement(l.FormattedMessage,{id:n},e=>i.default.createElement(u.default,null,e)))};s.propTypes={isSettings:r.default.bool},s.defaultProps={isSettings:!1};var c=(0,i.memo)(s);t.default=c},2268:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  color: #787e8f;\n  font-size: 11px;\n  font-weight: 700;\n  letter-spacing: 0.77px;\n  text-transform: uppercase;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2269:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  margin-top: 17px;\n  margin-bottom: 24px;\n  border-top: 1px solid #f6f6f6;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2270:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(6)),i=a(n(1)),r=n(10),l=a(n(101));var d=(e,t,n,a,d,u,...s)=>Object.keys(n).reduce((c,f)=>{const p=n[f];return[...c,...(0,r.get)(p,"injectedComponents",[]).filter(n=>n.plugin==="".concat(l.default,".").concat(e)&&n.area===t).map(e=>{const t=e.component;return i.default.createElement(t,(0,o.default)({viewProps:s,currentEnvironment:a,getModelName:()=>d,push:u},e.props,{key:e.key}))})]},[]);t.default=d},2289:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=n(17),l=a(n(2)),d=n(72),u=n(55),s=a(n(2239)),c=n(2364);function f({data:e,isRelation:t,onClick:n,pStyle:a,style:o}){const[l,f]=(0,i.useState)(!1);return i.default.createElement(c.Wrapper,{isOpen:l,notAllowed:0===e.length,style:o},i.default.createElement(u.ButtonDropdown,{isOpen:l,toggle:()=>{e.length>0&&f(e=>!e)}},i.default.createElement(u.DropdownToggle,null,i.default.createElement(r.FormattedMessage,{id:(0,s.default)("containers.SettingPage.".concat(t?"add.relational-field":"add.field"))},e=>i.default.createElement("p",{style:a},i.default.createElement(d.Plus,{fill:"#007eff",height:"11px",width:"11px"}),e))),i.default.createElement(u.DropdownMenu,null,e.map(e=>i.default.createElement(u.DropdownItem,{key:e,onClick:()=>{n(e)}},e)))))}f.defaultProps={data:[],isRelation:!1,onClick:()=>{},pStyle:{},style:{}},f.propTypes={data:l.default.array,isRelation:l.default.bool,onClick:l.default.func,pStyle:l.default.object,style:l.default.object};var p=(0,i.memo)(f);t.default=p},2290:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=n(10),l=a(n(2)),d=a(n(761)),u=a(n(764)),s=a(n(2367)),c=a(n(2368)),f=a(n(2369)),p=a(n(2370));const m=(0,i.forwardRef)(({goTo:e,componentUid:t,componentLayouts:n,dynamicZoneComponents:a,isDragging:o,label:l,name:m,onClickEdit:g,onClickRemove:v,selectedItem:y,showLeftCarret:b,showRightCarret:E,size:h,style:x,type:I},w)=>{const _="_TEMP_"===m,[R,D]=(0,i.useState)(!1),[C,O]=(0,i.useState)(!1),S=o?.2:1,T=12===h,M=T&&R?"none":"",P=T&&R?0:"100%",k=["json","text","file","media","component","richtext","dynamiczone"],L=k.includes(I)&&!R,F=(0,r.get)(n,[t],{}),j=(0,r.get)(F,["layouts","edit"],[]),N=e=>"".concat(1/12*e*100,"%");return i.default.createElement("div",{style:{width:N(h)},onDrag:()=>{T&&!R&&D(!0)},onDragEnd:()=>{T&&D(!1)}},i.default.createElement(f.default,{ref:w.dropRef,withLongerHeight:L,style:x},R&&T&&i.default.createElement(u.default,{style:{marginRight:"-10px"}}),i.default.createElement(i.default.Fragment,null,b&&i.default.createElement(s.default,null),i.default.createElement("div",{className:"sub",style:{width:P,opacity:S}},i.default.createElement(d.default,{goTo:e,componentUid:t,isHidden:_,isOverDynamicZone:C,label:l,name:m,onClick:g,onRemove:v,ref:w.dragRef,selectedItem:y,style:{display:M,marginRight:0,paddingRight:0},type:I,withLongerHeight:L},"component"===I&&j.map((e,t)=>{const n=t===j.length-1?"29px":"",a=0===t?"5px":"";return i.default.createElement("div",{style:{display:"flex",marginBottom:n,marginTop:a},key:t},e.map(e=>{const t=(0,r.get)(F,["schema","attributes",e.name,"type"],""),n=(0,r.get)(F,["metadatas",e.name,"edit","label"],"");return i.default.createElement("div",{key:e.name,style:{width:N(e.size),marginBottom:"6px"}},i.default.createElement(d.default,{label:n,name:e.name,isSub:!0,withLongerHeight:k.includes(t)}))}))}),"dynamiczone"===I&&i.default.createElement(c.default,null,a.map(e=>{const{name:t,icon:a}=(o=e,(0,r.get)(n,[o,"schema","info"],{name:"",icon:""}));var o;return i.default.createElement(p.default,{key:e,componentUid:e,friendlyName:t,icon:a,setIsOverDynamicZone:O})})))),E&&i.default.createElement(s.default,{right:!0}))))});m.defaultProps={goTo:()=>{},componentLayouts:{},componentUid:null,dynamicZoneComponents:[],isDragging:!1,label:"",onClickEdit:()=>{},onClickRemove:()=>{},selectedItem:"",showLeftCarret:!1,showRightCarret:!1,size:1,style:{},type:"string"},m.propTypes={goTo:l.default.func,componentLayouts:l.default.object,componentUid:l.default.string,dynamicZoneComponents:l.default.array,isDragging:l.default.bool,label:l.default.string,name:l.default.string.isRequired,onClickEdit:l.default.func,onClickRemove:l.default.func,selectedItem:l.default.string,showLeftCarret:l.default.bool,showRightCarret:l.default.bool,size:l.default.number,style:l.default.object,type:l.default.string},m.displayName="DraggedFieldWithPreview";var g=m;t.default=g},2291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unformatLayout=t.getRowSize=t.getInputSize=t.getFieldType=t.formatLayout=t.createLayout=void 0;const a=e=>e.reduce((e,t)=>e+t.size,0);t.getRowSize=a;t.createLayout=e=>e.reduce((e,t,n)=>{const a={rowId:n,rowContent:t};return e.concat(a)},[]);t.formatLayout=e=>e.reduce((e,t)=>{let n=[];const o=t.rowContent.reduce((e,t)=>{const o=a(e);return"_TEMP_"===t.name||(o+t.size<=12?e.push(t):n.push(t)),e},[]),i=0===e.length?0:Math.max.apply(Math,e.map(e=>e.rowId))+1,r=a(o);if(r<12&&o.push({name:"_TEMP_",size:12-r}),e.push({rowId:i,rowContent:o}),n.length>0){const t=a(n);t<12&&n.push({name:"_TEMP_",size:12-t}),e.push({rowId:i+1,rowContent:n}),n=[]}return e},[]).filter(e=>e.rowContent.length>0).filter(e=>1!==e.rowContent.length||"_TEMP_"!==e.rowContent[0].name);t.unformatLayout=e=>e.reduce((e,t)=>{const n=t.rowContent.filter(e=>"_TEMP_"!==e.name);return e.concat([n])},[]);t.getInputSize=e=>{switch(e){case"boolean":case"date":case"integer":case"float":case"biginteger":case"decimal":case"time":return 4;case"json":case"component":case"richtext":case"dynamiczone":return 12;default:return 6}};t.getFieldType=(e,t)=>e.getIn(["modifiedData","schema","attributes",t,"type"])},2363:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=n(10),d=a(n(757)),u=a(n(2289)),s=a(n(2246)),c=a(n(2365)),f=a(n(2366));const p=({className:e})=>{const{attributes:t,buttonData:n,layout:a,moveItem:o,moveRow:r,onAddData:p,removeField:m}=(0,d.default)(),g=(0,i.useCallback)(e=>(0,l.get)(t,[e,"component"],""),[t]),v=(0,i.useCallback)(e=>(0,l.get)(t,[e],{}).type,[t]),y=(0,i.useCallback)(e=>(0,l.get)(t,[e],{}).components||[],[t]);return i.default.createElement("div",{className:e},i.default.createElement(s.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},a.map((e,t)=>i.default.createElement(c.default,{key:e.rowId,style:{}},e.rowContent.map((e,n)=>{const{name:a,size:l}=e;return i.default.createElement(f.default,{componentUid:g(a),dynamicZoneComponents:y(a),itemIndex:n,key:a,moveRow:r,moveItem:o,name:a,removeField:m,rowIndex:t,size:l,type:v(a)})}))),i.default.createElement(c.default,{style:{marginBottom:10}},i.default.createElement(u.default,{data:n,onClick:p,style:{width:"100%",margin:"0 5px"}}))))};p.defaultProps={className:"col-8"},p.propTypes={className:r.default.string};var m=(0,i.memo)(p);t.default=m},2364:function(e,t,n){"use strict";var a=n(7),o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var i=o(n(4)),r=a(n(3));function l(){const e=(0,i.default)(["\n        > div {\n          > button {\n            cursor: not-allowed !important;\n          }\n        }\n      "]);return l=function(){return e},e}function d(){const e=(0,i.default)(["\n        > div {\n          background-color: #e6f0fb !important;\n          border-color: #aed4fb !important;\n        }\n      "]);return d=function(){return e},e}function u(){const e=(0,i.default)(["\n  margin-left: 29px;\n  > div {\n    height: 30px;\n    width: 100%;\n    justify-content: space-between;\n    background: #ffffff;\n    color: #333740;\n    border-radius: 2px;\n    border: solid 1px #007eff;\n\n    > button {\n      cursor: pointer;\n      padding-left: 10px !important;\n      line-height: 30px;\n      width: 100%;\n      color: #333740;\n      text-align: left;\n      background-color: #ffffff;\n      border: none;\n      font-size: 13px;\n      font-weight: 500;\n      &:focus,\n      &:active,\n      &:hover,\n      &:visited {\n        background-color: transparent !important;\n        box-shadow: none;\n        color: #333740;\n      }\n      > p {\n        position: relative;\n        height: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-align: center;\n        margin-bottom: 0;\n        margin-top: -1px;\n        color: #007eff !important;\n        font-size: 13px !important;\n        svg {\n          fill: #007eff;\n          margin-right: 7px;\n          vertical-align: initial;\n        }\n      }\n    }\n    > div {\n      max-height: 180px;\n      min-width: calc(100% + 2px);\n      margin-left: -1px;\n      margin-top: -1px;\n      padding: 0;\n      border-top-left-radius: 0 !important;\n      border-top-right-radius: 0;\n      border-color: #e3e9f3 !important;\n      border-top-color: #aed4fb !important;\n      box-shadow: 0 2px 3px rgba(227, 233, 245, 0.5);\n\n      overflow: scroll;\n\n      button {\n        height: 30px;\n        padding-left: 10px !important;\n        line-height: 26px;\n        cursor: pointer;\n        font-size: 13px !important;\n        &:focus,\n        &:active,\n        &:hover,\n        &:hover {\n          background-color: #fafafb !important;\n          color: #333740;\n          outline: 0;\n        }\n        div {\n          margin: 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n  }\n\n  ","\n\n  ","\n"]);return u=function(){return e},e}const s=r.default.div(u(),({isOpen:e})=>{if(e)return(0,r.css)(d())},({notAllowed:e})=>{if(e)return(0,r.css)(l())});t.Wrapper=s},2365:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  display: flex;\n  margin-bottom: 6px;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2366:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=n(123),l=n(279),d=a(n(2)),u=n(10),s=a(n(757)),c=a(n(2290)),f=a(n(756));const p=({componentUid:e,dynamicZoneComponents:t,itemIndex:n,moveItem:a,moveRow:o,name:d,removeField:p,rowIndex:m,size:g,type:v})=>{const{goTo:y,componentLayouts:b,metadatas:E,setEditFieldToSelect:h,selectedItemName:x,setIsDraggingSibling:I}=(0,s.default)(),w=(0,i.useRef)(null),_=(0,i.useRef)(null),[{clientOffset:R,isOver:D},C]=(0,r.useDrop)({accept:f.default.EDIT_FIELD,hover(e,t){if(!_.current)return;if(12!==e.size)return;const a=t.getItem().itemIndex,i=n,r=t.getItem().rowIndex,l=m;if(a===i&&r===l)return;const d=_.current.getBoundingClientRect(),u=(d.bottom-d.top)/2,s=t.getClientOffset().y-d.top;r<l&&s<u||r>l&&s>u||(o(r,l),e.rowIndex=l,e.itemIndex=i)},drop(e,t){if(!_.current)return;const o=t.getItem().itemIndex,i=n,r=t.getItem().rowIndex,l=m;if(12===e.size)return;if(o===i&&r===l)return;const d=_.current.getBoundingClientRect();if(Math.abs(t.getClientOffset().x-d.left)>d.width/1.8)return a(o,i+1,r,l),e.itemIndex=i+1,void(e.rowIndex=l);a(o,i,r,l),e.itemIndex=i,e.rowIndex=l},collect:e=>({canDrop:e.canDrop(),clientOffset:e.getClientOffset(),isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0}),itemType:e.getItemType()})}),[{isDragging:O,getItem:S},T,M]=(0,r.useDrag)({begin:()=>{I(!0)},canDrag:()=>"_TEMP_"!==d,collect:e=>({isDragging:e.isDragging(),getItem:e.getItem()}),end:()=>{I(!1)},item:{type:f.default.EDIT_FIELD,itemIndex:n,rowIndex:m,name:d,size:g}});(0,i.useEffect)(()=>{M((0,l.getEmptyImage)(),{captureDraggingState:!0})},[M]);const P={dragRef:T(w),dropRef:C(_)};let k=!1,L=!1;if(_.current&&R){const e=_.current.getBoundingClientRect();k=D&&12!==S.size&&Math.abs(R.x-e.left)<e.width/2,L=D&&12!==S.size&&Math.abs(R.x-e.left)>e.width/2,"_TEMP_"===d&&(k=D&&12!==S.size,L=!1)}return i.default.createElement(c.default,{goTo:y,componentUid:e,componentLayouts:b,dynamicZoneComponents:t,isDragging:O,label:(0,u.get)(E,[d,"edit","label"],""),name:d,onClickEdit:h,onClickRemove:e=>{e.stopPropagation(),p(m,n)},selectedItem:x,showLeftCarret:k,showRightCarret:L,size:g,type:v,ref:P})};p.defaultProps={componentUid:"",dynamicZoneComponents:[],type:"string"},p.propTypes={componentUid:d.default.string,dynamicZoneComponents:d.default.array,itemIndex:d.default.number.isRequired,moveItem:d.default.func.isRequired,moveRow:d.default.func.isRequired,name:d.default.string.isRequired,removeField:d.default.func.isRequired,rowIndex:d.default.number.isRequired,size:d.default.number.isRequired,type:d.default.string};var m=p;t.default=m},2367:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  position: absolute;\n  ","\n  height: 100%;\n  width: 2px;\n  margin-right: 3px;\n  border-radius: 2px;\n  background: #007eff;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i(),({right:e})=>e?"\n      right: -4px;\n    ":"\n    left: -1px;\n  ");t.default=r},2368:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  display: flex;\n  margin: 5px 0 0px 0;\n  overflow: auto;\n  height: 119px;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2369:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4)),i=a(n(3)),r=a(n(2));function l(){const e=(0,o.default)(["\n  display: flex;\n  position: relative;\n  min-height: ",";\n\n  .sub {\n    width: 100%;\n    padding: 0 5px;\n  }\n"]);return l=function(){return e},e}const d=i.default.div(l(),({withLongerHeight:e})=>e?"102px":"30px");d.defaultProps={withLongerHeight:!1},d.propTypes={withLongerHeight:r.default.bool};var u=d;t.default=u},2370:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=n(34),l=a(n(2)),d=a(n(101)),u=a(n(2261)),s=a(n(2371));const c=({componentUid:e,friendlyName:t,icon:n,setIsOverDynamicZone:a})=>{const[o,l]=(0,i.useState)(!1),{push:c}=(0,r.useHistory)();return i.default.createElement(u.default,{componentUid:e,friendlyName:t,icon:n,isOver:o,onClick:()=>{c("/plugins/".concat(d.default,"/ctm-configurations/edit-settings/components/").concat(e,"/"))},onMouseEvent:()=>{a(e=>!e),l(e=>!e)},tradId:"components.DraggableAttr.edit"},i.default.createElement(s.default,{isOver:o},e))};c.defaultProps={friendlyName:"",icon:"smile"},c.propTypes={componentUid:l.default.string.isRequired,friendlyName:l.default.string,icon:l.default.string,setIsOverDynamicZone:l.default.func.isRequired};var f=c;t.default=f},2371:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  position: absolute;\n  bottom: -10px;\n  left: 105px;\n  visibility: ",";\n  line-height: 20px;\n  height: 20px;\n  padding: 0 10px;\n  background-color: #000000;\n  font-size: 12px;\n  color: #fff;\n  opacity: 0.5;\n  border: 1px solid #e3e9f3;\n  z-index: 99;\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i(),({isOver:e})=>e?"visible":"hidden");t.default=r},2372:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=n(17);const d=({description:e,title:t})=>i.default.createElement(i.default.Fragment,null,!!t&&i.default.createElement(l.FormattedMessage,{id:t}),!!e&&i.default.createElement(l.FormattedMessage,{id:e},e=>i.default.createElement("p",null,e)));d.propTypes={description:r.default.string,title:r.default.string},d.defaultProps={description:null,title:null};var u=(0,i.memo)(d);t.default=u},2373:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4));function i(){const e=(0,o.default)(["\n  color: #333740;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 18px;\n\n  p {\n    margin-top: 2px;\n    margin-bottom: 13px;\n    color: #9ea7b8;\n    font-size: 12px;\n    font-weight: 400;\n    line-height: normal;\n  }\n"]);return i=function(){return e},e}var r=a(n(3)).default.div(i());t.default=r},2374:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=a(n(2)),l=a(n(757)),d=a(n(2289)),u=a(n(2246)),s=a(n(2375));const c=({addItem:e,buttonData:t,moveItem:n,removeItem:a})=>{const{relationsLayout:o}=(0,l.default)();return i.default.createElement("div",{className:"col-4"},i.default.createElement(u.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},o.map((e,t)=>i.default.createElement(s.default,{index:t,key:e,move:n,name:e,removeItem:a})),i.default.createElement(d.default,{data:t,isRelation:!0,onClick:e,style:{marginLeft:10,marginRight:10,marginBottom:13}})))};c.defaultProps={buttonData:[]},c.propTypes={addItem:r.default.func.isRequired,buttonData:r.default.array,moveItem:r.default.func.isRequired,removeItem:r.default.func.isRequired};var f=(0,i.memo)(c);t.default=f},2375:function(e,t,n){"use strict";var a=n(0),o=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1)),r=n(123),l=n(279),d=a(n(2)),u=n(10),s=a(n(757)),c=a(n(2290)),f=a(n(756));const p=({index:e,move:t,name:n,removeItem:a})=>{const{goTo:o,metadatas:d,selectedItemName:p,setEditFieldToSelect:m,setIsDraggingSibling:g}=(0,s.default)(),v=(0,i.useRef)(null),y=(0,i.useRef)(null),[,b]=(0,r.useDrop)({accept:f.default.EDIT_RELATION,hover(n,a){if(!y.current)return;const o=n.index,i=e;if(o===i)return;const r=y.current.getBoundingClientRect(),l=(r.bottom-r.top)/2,d=a.getClientOffset().y-r.top;o<i&&d<l||o>i&&d>l||(t(o,i),n.index=i)}}),[{isDragging:E},h,x]=(0,r.useDrag)({item:{type:f.default.EDIT_RELATION,id:n,name:n,index:e},begin:()=>{g(!0)},end:()=>{g(!1)},collect:e=>({isDragging:e.isDragging()})});(0,i.useEffect)(()=>{x((0,l.getEmptyImage)(),{captureDraggingState:!1})},[x]);const I={dragRef:h(v),dropRef:b(y)};return i.default.createElement(c.default,{isDragging:E,label:(0,u.get)(d,[n,"edit","label"],""),name:n,onClickEdit:()=>m(n),onClickRemove:t=>{t.stopPropagation(),a(e)},push:o,ref:I,selectedItem:p,size:12,style:{marginBottom:6,paddingLeft:5,paddingRight:5},type:"relation",i:0===e})};p.defaultProps={move:()=>{}},p.propTypes={index:d.default.number.isRequired,move:d.default.func,name:d.default.string.isRequired,removeItem:d.default.func.isRequired};var m=p;t.default=m},2376:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(101));var i=e=>{let t;switch(e){case"description":case"label":case"placeholder":t="text";break;case"mainField":t="select";break;case"editable":t="bool";break;default:t=""}return{type:t,label:{id:"mainField"===e?"".concat(o.default,".containers.SettingPage.editSettings.entry.title"):"".concat(o.default,".form.Input.").concat(e)}}};t.default=i},2377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(33),o=n(10),i=n(2291);const r=(0,a.fromJS)({fieldForm:{},componentLayouts:{},metaToEdit:"",initialData:{},isLoading:!0,metaForm:{},modifiedData:{}});t.initialState=r;var l=(e,t)=>{const n=["modifiedData","layouts","edit"],r=["modifiedData","layouts","editRelations"];switch(t.type){case"ADD_RELATION":return e.updateIn(r,e=>e.push(t.name));case"GET_DATA_SUCCEEDED":{const n=(0,o.cloneDeep)(t.data);return(0,o.set)(n,["layouts","edit"],(0,i.formatLayout)((0,i.createLayout)(n.layouts.edit))),e.update("componentLayouts",()=>(0,a.fromJS)(t.componentLayouts)).update("initialData",()=>(0,a.fromJS)(n||{})).update("isLoading",()=>!1).update("modifiedData",()=>(0,a.fromJS)(n||{}))}case"MOVE_RELATION":return e.updateIn(r,n=>n.delete(t.dragIndex).insert(t.hoverIndex,e.getIn([...r,t.dragIndex])));case"MOVE_ROW":return e.updateIn(n,a=>a.delete(t.dragRowIndex).insert(t.hoverRowIndex,e.getIn([...n,t.dragRowIndex])));case"ON_ADD_DATA":{const o=(0,i.getInputSize)(e.getIn(["modifiedData","schema","attributes",t.name,"type"])),r=e.getIn(n).size,l=e.getIn(n).updateIn([r-1,"rowContent"],e=>e?e.push({name:t.name,size:o}):(0,a.fromJS)([{name:t.name,size:o}])),d=(0,i.formatLayout)(l.toJS());return e.updateIn(n,()=>(0,a.fromJS)(d))}case"ON_CHANGE":return e.updateIn(["modifiedData",...t.keys],()=>t.value);case"ON_CHANGE_META":return e.updateIn(["metaForm",...t.keys],()=>t.value);case"ON_RESET":return e.update("modifiedData",()=>e.get("initialData"));case"REMOVE_FIELD":{const o=e.getIn([...n,t.rowIndex,"rowContent"]);let r;r=1===o.size||2===o.size&&"_TEMP_"===o.getIn([1,"name"])?e.updateIn(n,e=>e.delete(t.rowIndex)):e.updateIn([...n,t.rowIndex,"rowContent"],e=>e.delete(t.fieldIndex));const l=(0,a.fromJS)((0,i.formatLayout)(r.getIn(n).toJS()));return e.updateIn(n,()=>l)}case"REMOVE_RELATION":return e.updateIn(r,e=>e.delete(t.index));case"REORDER_DIFF_ROW":{const o=e.updateIn([...n,t.dragRowIndex,"rowContent"],e=>e.remove(t.dragIndex)).updateIn([...n,t.hoverRowIndex,"rowContent"],a=>a.insert(t.hoverIndex,e.getIn([...n,t.dragRowIndex,"rowContent",t.dragIndex]))),r=(0,i.formatLayout)(o.getIn(n).toJS());return e.updateIn(n,()=>(0,a.fromJS)(r))}case"REORDER_ROW":{const o=e.updateIn([...n,t.dragRowIndex,"rowContent"],e=>e.delete(t.dragIndex).insert(t.hoverIndex,e.get(t.dragIndex))),r=(0,i.formatLayout)(o.getIn(n).toJS());return e.updateIn(n,()=>(0,a.fromJS)(r))}case"SET_FIELD_TO_EDIT":return e.update("metaToEdit",()=>t.name).updateIn(["metaForm"],()=>e.getIn(["modifiedData","metadatas",t.name,"edit"]));case"SUBMIT_META_FORM":{const t=["modifiedData","metadatas",e.get("metaToEdit"),"edit"];return e.updateIn(t,()=>e.getIn(["metaForm"]))}case"SUBMIT_SUCCEEDED":return e.update("initialData",()=>e.get("modifiedData"));case"UNSET_FIELD_TO_EDIT":return e.update("metaToEdit",()=>"").update("metaForm",()=>(0,a.fromJS)({}));default:return e}};t.default=l}}]);